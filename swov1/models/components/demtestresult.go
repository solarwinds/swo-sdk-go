// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package components

import (
	"encoding/json"
	"fmt"
	"github.com/solarwinds/swo-sdk-go/swov1/internal/utils"
	"time"
)

// DemTestResultStatus - Status of the test result
type DemTestResultStatus string

const (
	DemTestResultStatusUp   DemTestResultStatus = "up"
	DemTestResultStatusDown DemTestResultStatus = "down"
)

func (e DemTestResultStatus) ToPointer() *DemTestResultStatus {
	return &e
}
func (e *DemTestResultStatus) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "up":
		fallthrough
	case "down":
		*e = DemTestResultStatus(v)
		return nil
	default:
		return fmt.Errorf("invalid value for DemTestResultStatus: %v", v)
	}
}

// Phase - Indicates at which phase of the failure occurred
type Phase string

const (
	PhaseResolve    Phase = "resolve"
	PhaseConnection Phase = "connection"
	PhaseRequest    Phase = "request"
	PhaseResponse   Phase = "response"
	PhaseUnknown    Phase = "unknown"
)

func (e Phase) ToPointer() *Phase {
	return &e
}
func (e *Phase) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "resolve":
		fallthrough
	case "connection":
		fallthrough
	case "request":
		fallthrough
	case "response":
		fallthrough
	case "unknown":
		*e = Phase(v)
		return nil
	default:
		return fmt.Errorf("invalid value for Phase: %v", v)
	}
}

type DemTestResult struct {
	// Timestamp of result
	Time time.Time `json:"time"`
	// Probe that produced the result
	Probe DemProbe `json:"probe"`
	// Response time in milliseconds
	ResponseTime int `json:"responseTime"`
	// Status of the test result
	Status DemTestResultStatus `json:"status"`
	// Indicates at which phase of the failure occurred
	Phase *Phase `json:"phase,omitempty"`
	// Short reason for failure
	Description *string `json:"description,omitempty"`
	// Longer reason for failure
	Message *string `json:"message,omitempty"`
	// Reference to the root cause analysis
	AnalysisID *string `json:"analysisId,omitempty"`
	// Reference to the validation
	ValidationsID *string `json:"validationsId,omitempty"`
}

func (d DemTestResult) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(d, "", false)
}

func (d *DemTestResult) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &d, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (d *DemTestResult) GetTime() time.Time {
	if d == nil {
		return time.Time{}
	}
	return d.Time
}

func (d *DemTestResult) GetProbe() DemProbe {
	if d == nil {
		return DemProbe{}
	}
	return d.Probe
}

func (d *DemTestResult) GetResponseTime() int {
	if d == nil {
		return 0
	}
	return d.ResponseTime
}

func (d *DemTestResult) GetStatus() DemTestResultStatus {
	if d == nil {
		return DemTestResultStatus("")
	}
	return d.Status
}

func (d *DemTestResult) GetPhase() *Phase {
	if d == nil {
		return nil
	}
	return d.Phase
}

func (d *DemTestResult) GetDescription() *string {
	if d == nil {
		return nil
	}
	return d.Description
}

func (d *DemTestResult) GetMessage() *string {
	if d == nil {
		return nil
	}
	return d.Message
}

func (d *DemTestResult) GetAnalysisID() *string {
	if d == nil {
		return nil
	}
	return d.AnalysisID
}

func (d *DemTestResult) GetValidationsID() *string {
	if d == nil {
		return nil
	}
	return d.ValidationsID
}
